import{s as oe,e as v,c as w,a as N,d,b as x,i as k,f as Y,g,h as A,j as b,k as _,l as ie,m as z,t as H,o as O,p as re}from"../chunks/scheduler.6ziVH6kA.js";import{S as ue,i as fe,c as P,a as S,m as I,t as D,b as E,d as j,e as G}from"../chunks/index.Dnpky8rY.js";import{B as ce}from"../chunks/Button.GnbuOAJ2.js";import{C as pe,L as te,I as ae}from"../chunks/Input.BJNZHMX5.js";import{C as me}from"../chunks/Checkbox.DkHT_I7f.js";function ne(a){let e,t;return{c(){e=v("p"),t=H(a[1]),this.h()},l(s){e=w(s,"P",{class:!0});var n=N(e);t=O(n,a[1]),n.forEach(d),this.h()},h(){x(e,"class","text-red-500")},m(s,n){k(s,e,n),_(e,t)},p(s,n){n&2&&re(t,s[1])},d(s){s&&d(e)}}}function se(a){let e,t;return{c(){e=v("p"),t=H(a[2]),this.h()},l(s){e=w(s,"P",{class:!0});var n=N(e);t=O(n,a[2]),n.forEach(d),this.h()},h(){x(e,"class","text-green-500")},m(s,n){k(s,e,n),_(e,t)},p(s,n){n&4&&re(t,s[2])},d(s){s&&d(e)}}}function de(a){let e,t="Username",s,n,u,c;function $(r){a[4](r)}let h={type:"text",name:"username",placeholder:"name@company.com",required:!0};return a[0].username!==void 0&&(h.value=a[0].username),n=new ae({props:h}),Y.push(()=>G(n,"value",$)),{c(){e=v("span"),e.textContent=t,s=g(),P(n.$$.fragment)},l(r){e=w(r,"SPAN",{"data-svelte-h":!0}),A(e)!=="svelte-9difb2"&&(e.textContent=t),s=b(r),S(n.$$.fragment,r)},m(r,i){k(r,e,i),k(r,s,i),I(n,r,i),c=!0},p(r,i){const f={};!u&&i&1&&(u=!0,f.value=r[0].username,z(()=>u=!1)),n.$set(f)},i(r){c||(D(n.$$.fragment,r),c=!0)},o(r){E(n.$$.fragment,r),c=!1},d(r){r&&(d(e),d(s)),j(n,r)}}}function $e(a){let e,t="Your password",s,n,u,c;function $(r){a[5](r)}let h={type:"password",name:"password",placeholder:"•••••",required:!0};return a[0].password!==void 0&&(h.value=a[0].password),n=new ae({props:h}),Y.push(()=>G(n,"value",$)),{c(){e=v("span"),e.textContent=t,s=g(),P(n.$$.fragment)},l(r){e=w(r,"SPAN",{"data-svelte-h":!0}),A(e)!=="svelte-1nyqqaq"&&(e.textContent=t),s=b(r),S(n.$$.fragment,r)},m(r,i){k(r,e,i),k(r,s,i),I(n,r,i),c=!0},p(r,i){const f={};!u&&i&1&&(u=!0,f.value=r[0].password,z(()=>u=!1)),n.$set(f)},i(r){c||(D(n.$$.fragment,r),c=!0)},o(r){E(n.$$.fragment,r),c=!1},d(r){r&&(d(e),d(s)),j(n,r)}}}function _e(a){let e;return{c(){e=H("Remember me")},l(t){e=O(t,"Remember me")},m(t,s){k(t,e,s)},d(t){t&&d(e)}}}function he(a){let e;return{c(){e=H("Login to your account")},l(t){e=O(t,"Login to your account")},m(t,s){k(t,e,s)},d(t){t&&d(e)}}}function ge(a){let e,t,s="Sign In",n,u,c,$,h,r,i,f,C,R,V,y,K="Lost password?",B,q,F,L,Q='Not registered? <a href="/account/signup" class="text-primary-700 hover:underline dark:text-primary-500">Create account</a>',T,J,W,p=a[1]!=""&&ne(a),m=a[2]!=""&&se(a);$=new te({props:{class:"space-y-2",$$slots:{default:[de]},$$scope:{ctx:a}}}),r=new te({props:{class:"space-y-2",$$slots:{default:[$e]},$$scope:{ctx:a}}});function le(o){a[6](o)}let X={$$slots:{default:[_e]},$$scope:{ctx:a}};return a[0].rememberMe!==void 0&&(X.checked=a[0].rememberMe),C=new me({props:X}),Y.push(()=>G(C,"checked",le)),q=new ce({props:{type:"submit",class:"w-full",$$slots:{default:[he]},$$scope:{ctx:a}}}),{c(){e=v("form"),t=v("h3"),t.textContent=s,n=g(),p&&p.c(),u=g(),m&&m.c(),c=g(),P($.$$.fragment),h=g(),P(r.$$.fragment),i=g(),f=v("div"),P(C.$$.fragment),V=g(),y=v("a"),y.textContent=K,B=g(),P(q.$$.fragment),F=g(),L=v("div"),L.innerHTML=Q,this.h()},l(o){e=w(o,"FORM",{class:!0});var l=N(e);t=w(l,"H3",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-snn4fh"&&(t.textContent=s),n=b(l),p&&p.l(l),u=b(l),m&&m.l(l),c=b(l),S($.$$.fragment,l),h=b(l),S(r.$$.fragment,l),i=b(l),f=w(l,"DIV",{class:!0});var M=N(f);S(C.$$.fragment,M),V=b(M),y=w(M,"A",{href:!0,class:!0,"data-svelte-h":!0}),A(y)!=="svelte-tsrwi3"&&(y.textContent=K),M.forEach(d),B=b(l),S(q.$$.fragment,l),F=b(l),L=w(l,"DIV",{class:!0,"data-svelte-h":!0}),A(L)!=="svelte-twnwni"&&(L.innerHTML=Q),l.forEach(d),this.h()},h(){x(t,"class","text-3xl font-bold text-gray-900 dark:text-white"),x(y,"href","/account/forgot"),x(y,"class","ms-auto text-sm text-primary-700 hover:underline dark:text-primary-500"),x(f,"class","flex items-start"),x(L,"class","text-sm font-medium text-gray-500 dark:text-gray-300"),x(e,"class","flex flex-col space-y-6")},m(o,l){k(o,e,l),_(e,t),_(e,n),p&&p.m(e,null),_(e,u),m&&m.m(e,null),_(e,c),I($,e,null),_(e,h),I(r,e,null),_(e,i),_(e,f),I(C,f,null),_(f,V),_(f,y),_(e,B),I(q,e,null),_(e,F),_(e,L),T=!0,J||(W=ie(e,"submit",a[3]),J=!0)},p(o,l){o[1]!=""?p?p.p(o,l):(p=ne(o),p.c(),p.m(e,u)):p&&(p.d(1),p=null),o[2]!=""?m?m.p(o,l):(m=se(o),m.c(),m.m(e,c)):m&&(m.d(1),m=null);const M={};l&129&&(M.$$scope={dirty:l,ctx:o}),$.$set(M);const Z={};l&129&&(Z.$$scope={dirty:l,ctx:o}),r.$set(Z);const U={};l&128&&(U.$$scope={dirty:l,ctx:o}),!R&&l&1&&(R=!0,U.checked=o[0].rememberMe,z(()=>R=!1)),C.$set(U);const ee={};l&128&&(ee.$$scope={dirty:l,ctx:o}),q.$set(ee)},i(o){T||(D($.$$.fragment,o),D(r.$$.fragment,o),D(C.$$.fragment,o),D(q.$$.fragment,o),T=!0)},o(o){E($.$$.fragment,o),E(r.$$.fragment,o),E(C.$$.fragment,o),E(q.$$.fragment,o),T=!1},d(o){o&&d(e),p&&p.d(),m&&m.d(),j($),j(r),j(C),j(q),J=!1,W()}}}function be(a){let e,t,s;return t=new pe({props:{$$slots:{default:[ge]},$$scope:{ctx:a}}}),{c(){e=v("div"),P(t.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var u=N(e);S(t.$$.fragment,u),u.forEach(d),this.h()},h(){x(e,"class","h-full w-full flex flex-col items-center justify-center")},m(n,u){k(n,e,u),I(t,e,null),s=!0},p(n,[u]){const c={};u&135&&(c.$$scope={dirty:u,ctx:n}),t.$set(c)},i(n){s||(D(t.$$.fragment,n),s=!0)},o(n){E(t.$$.fragment,n),s=!1},d(n){n&&d(e),j(t)}}}function ve(a,e,t){let s={username:"",password:"",type:"Login"},n="",u="";const c=i=>{i.preventDefault(),console.log(s),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(f=>f.json()).then(f=>{f.error?(t(1,n=f.error),t(2,u="")):(t(1,n=""),t(2,u=f.success),window.location.href="/")}).catch(f=>{console.log(f),t(1,n="An error occurred. Please try again later."),t(2,u="")})};function $(i){a.$$.not_equal(s.username,i)&&(s.username=i,t(0,s))}function h(i){a.$$.not_equal(s.password,i)&&(s.password=i,t(0,s))}function r(i){a.$$.not_equal(s.rememberMe,i)&&(s.rememberMe=i,t(0,s))}return[s,n,u,c,$,h,r]}class qe extends ue{constructor(e){super(),fe(this,e,ve,be,oe,{})}}export{qe as component};
